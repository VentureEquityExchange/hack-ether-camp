{"filter":false,"title":"main.service.js","tooltip":"/angular-app/main/main.service.js","undoManager":{"mark":50,"position":50,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":47},"action":"insert","lines":["<script src=\"main/main.controller.js\"></script>"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":47},"action":"remove","lines":["<script src=\"main/main.controller.js\"></script>"],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":50,"column":0},"action":"insert","lines":["'use strict';","","angular.module('vexAlphaApp')","  .factory('account', function (Web3, $q, admin, $http) {","    // Service logic","    // ...","    var web3 = Web3.web3();","","    // Public API here","    return {","      coinbase: function () {","        // Returns the account set to the etherbase, coinbase.","        return $q(function(resolve, reject){","          web3.eth.getCoinbase(function(error, coinbase){","            if(error) {reject(error);}","            return resolve(coinbase);","          });","        });","      },","      getAccounts: function(){","        return $q(function(resolve, reject){","          web3.eth.getAccounts(function(error, accounts){","            if(error){reject(error);}","            return resolve(accounts);","          });","        });","      },","      balance : function(account){","        return $q(function(resolve, reject){","          web3.eth.getBalance(account, function(error, balance){","            if(error) {reject(error);}","            resolve(balance);","          });","        });","      },","      unlock : function(account){","        return $q(function(resolve, reject){","          var req = {","            method : 'POST',","            url : '/api/admin/'+account+'/unlock'","          };","","          $http(req).success(function(data){","            if(!data) {reject('Error unlocking account');}","            resolve(data);","          });","        });","      }","    };","  });",""],"id":3}],[{"start":{"row":2,"column":19},"end":{"row":2,"column":24},"action":"remove","lines":["Alpha"],"id":4}],[{"start":{"row":3,"column":12},"end":{"row":3,"column":19},"action":"remove","lines":["account"],"id":5},{"start":{"row":3,"column":12},"end":{"row":3,"column":13},"action":"insert","lines":["m"]}],[{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"insert","lines":["i"],"id":6}],[{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"remove","lines":["i"],"id":7}],[{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"insert","lines":["a"],"id":8}],[{"start":{"row":3,"column":14},"end":{"row":3,"column":15},"action":"insert","lines":["i"],"id":9}],[{"start":{"row":3,"column":15},"end":{"row":3,"column":16},"action":"insert","lines":["n"],"id":10}],[{"start":{"row":34,"column":7},"end":{"row":47,"column":7},"action":"remove","lines":[",","      unlock : function(account){","        return $q(function(resolve, reject){","          var req = {","            method : 'POST',","            url : '/api/admin/'+account+'/unlock'","          };","","          $http(req).success(function(data){","            if(!data) {reject('Error unlocking account');}","            resolve(data);","          });","        });","      }"],"id":11}],[{"start":{"row":3,"column":29},"end":{"row":3,"column":35},"action":"remove","lines":["Web3, "],"id":12}],[{"start":{"row":3,"column":33},"end":{"row":3,"column":40},"action":"remove","lines":["admin, "],"id":13}],[{"start":{"row":6,"column":15},"end":{"row":6,"column":24},"action":"remove","lines":["Web3.web3"],"id":14}],[{"start":{"row":6,"column":15},"end":{"row":6,"column":16},"action":"insert","lines":["n"],"id":15}],[{"start":{"row":6,"column":16},"end":{"row":6,"column":17},"action":"insert","lines":["e"],"id":16}],[{"start":{"row":6,"column":17},"end":{"row":6,"column":18},"action":"insert","lines":["w"],"id":17}],[{"start":{"row":6,"column":18},"end":{"row":6,"column":19},"action":"insert","lines":[" "],"id":18}],[{"start":{"row":6,"column":19},"end":{"row":6,"column":20},"action":"insert","lines":["W"],"id":19}],[{"start":{"row":6,"column":20},"end":{"row":6,"column":21},"action":"insert","lines":["e"],"id":20}],[{"start":{"row":6,"column":21},"end":{"row":6,"column":22},"action":"insert","lines":["b"],"id":21}],[{"start":{"row":6,"column":22},"end":{"row":6,"column":23},"action":"insert","lines":["3"],"id":22}],[{"start":{"row":6,"column":4},"end":{"row":6,"column":26},"action":"remove","lines":["var web3 = new Web3();"],"id":23},{"start":{"row":6,"column":4},"end":{"row":6,"column":82},"action":"insert","lines":["var web3 = new Web3(new Web3.providers.HttpProvider(\"http://localhost:8545\"));"]}],[{"start":{"row":6,"column":76},"end":{"row":6,"column":77},"action":"remove","lines":["4"],"id":24}],[{"start":{"row":6,"column":76},"end":{"row":6,"column":77},"action":"insert","lines":["5"],"id":25}],[{"start":{"row":6,"column":73},"end":{"row":6,"column":78},"action":"remove","lines":[":8555"],"id":26},{"start":{"row":6,"column":73},"end":{"row":6,"column":87},"action":"insert","lines":[":8555/sandbox/"]}],[{"start":{"row":6,"column":64},"end":{"row":6,"column":73},"action":"remove","lines":["localhost"],"id":27},{"start":{"row":6,"column":64},"end":{"row":6,"column":107},"action":"insert","lines":["http://ventureequityexchange.on.ether.camp/"]}],[{"start":{"row":6,"column":106},"end":{"row":6,"column":107},"action":"remove","lines":["/"],"id":28}],[{"start":{"row":6,"column":120},"end":{"row":6,"column":160},"action":"insert","lines":["608db2ed344c3b9eff398d2b4ccbfd71452b9245"],"id":29}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":4},"action":"insert","lines":["    "],"id":30}],[{"start":{"row":3,"column":12},"end":{"row":3,"column":16},"action":"remove","lines":["main"],"id":31},{"start":{"row":3,"column":12},"end":{"row":3,"column":13},"action":"insert","lines":["W"]}],[{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"insert","lines":["e"],"id":32}],[{"start":{"row":3,"column":14},"end":{"row":3,"column":15},"action":"insert","lines":["b"],"id":33}],[{"start":{"row":3,"column":14},"end":{"row":3,"column":15},"action":"remove","lines":["b"],"id":34}],[{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"remove","lines":["e"],"id":35}],[{"start":{"row":3,"column":12},"end":{"row":3,"column":13},"action":"remove","lines":["W"],"id":36}],[{"start":{"row":3,"column":12},"end":{"row":3,"column":13},"action":"insert","lines":["m"],"id":37}],[{"start":{"row":3,"column":13},"end":{"row":3,"column":14},"action":"insert","lines":["a"],"id":38}],[{"start":{"row":3,"column":14},"end":{"row":3,"column":15},"action":"insert","lines":["i"],"id":39}],[{"start":{"row":3,"column":15},"end":{"row":3,"column":16},"action":"insert","lines":["n"],"id":40}],[{"start":{"row":3,"column":12},"end":{"row":3,"column":13},"action":"remove","lines":["m"],"id":41},{"start":{"row":3,"column":12},"end":{"row":3,"column":13},"action":"insert","lines":["M"]}],[{"start":{"row":6,"column":63},"end":{"row":6,"column":64},"action":"remove","lines":["/"],"id":42}],[{"start":{"row":6,"column":62},"end":{"row":6,"column":63},"action":"remove","lines":["/"],"id":43}],[{"start":{"row":6,"column":61},"end":{"row":6,"column":62},"action":"remove","lines":[":"],"id":44}],[{"start":{"row":6,"column":60},"end":{"row":6,"column":61},"action":"remove","lines":["p"],"id":45}],[{"start":{"row":6,"column":59},"end":{"row":6,"column":60},"action":"remove","lines":["t"],"id":46}],[{"start":{"row":6,"column":58},"end":{"row":6,"column":59},"action":"remove","lines":["t"],"id":47}],[{"start":{"row":6,"column":57},"end":{"row":6,"column":58},"action":"remove","lines":["h"],"id":48}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":49}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"insert","lines":["",""],"id":50}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":15},"action":"insert","lines":["/*global angular*/","/*global Web3*/"],"id":51}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":1,"column":15},"end":{"row":1,"column":15},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1449108209652,"hash":"4256c3271399bc133484f4b2049ba874cdf4f7dd"}